<UserControl x:Class="DockTop.Controls.IconDockItem"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    x:Name="root" Width="84" Height="84">
    <Grid>
        <Border x:Name="BgPlate" CornerRadius="18" Background="#1AFFFFFF" BorderBrush="#30FFFFFF" BorderThickness="1" Opacity="0.3"/>
        <Grid x:Name="IconHost" RenderTransformOrigin="0.5,0.5">
            <Grid.RenderTransform>
                <TransformGroup>
                    <ScaleTransform x:Name="ScaleTf" ScaleX="1" ScaleY="1"/>
                    <TranslateTransform x:Name="TranslateTf" X="0" Y="0"/>
                </TransformGroup>
            </Grid.RenderTransform>
            <Ellipse x:Name="Glow" Width="64" Height="64" Opacity="0" IsHitTestVisible="False">
                <Ellipse.Fill>
                    <RadialGradientBrush GradientOrigin="0.5,0.5" Center="0.5,0.5" RadiusX="0.8" RadiusY="0.8">
                        <GradientStop Color="{Binding AppColor, ElementName=root}" Offset="0"/>
                        <GradientStop Color="#00FFFFFF" Offset="1"/>
                    </RadialGradientBrush>
                </Ellipse.Fill>
                <Ellipse.Effect><BlurEffect Radius="14"/></Ellipse.Effect>
            </Ellipse>
            <Border CornerRadius="16" Background="#09000000">
                <Image x:Name="IconImg" Width="64" Height="64" Stretch="Uniform"/>
            </Border>
        </Grid>
        <Grid.ContextMenu><ContextMenu><MenuItem Header="Unpin" Click="Unpin_Click"/></ContextMenu></Grid.ContextMenu>
    </Grid>
    <UserControl.Resources>
        <Storyboard x:Key="HoverOn">
            <DoubleAnimation Storyboard.TargetName="Glow" Storyboard.TargetProperty="Opacity" To="0.9" Duration="0:0:0.18"/>
            <DoubleAnimation Storyboard.TargetName="ScaleTf" Storyboard.TargetProperty="ScaleX" To="1.15" Duration="0:0:0.12"/>
            <DoubleAnimation Storyboard.TargetName="ScaleTf" Storyboard.TargetProperty="ScaleY" To="1.15" Duration="0:0:0.12"/>
            <DoubleAnimation Storyboard.TargetName="TranslateTf" Storyboard.TargetProperty="Y" To="-6" Duration="0:0:0.10" EasingFunction="{StaticResource easeOut}"/>
        </Storyboard>
        <Storyboard x:Key="HoverOff">
            <DoubleAnimation Storyboard.TargetName="Glow" Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0.25"/>
            <DoubleAnimation Storyboard.TargetName="ScaleTf" Storyboard.TargetProperty="ScaleX" To="1" Duration="0:0:0.15"/>
            <DoubleAnimation Storyboard.TargetName="ScaleTf" Storyboard.TargetProperty="ScaleY" To="1" Duration="0:0:0.15"/>
            <DoubleAnimation Storyboard.TargetName="TranslateTf" Storyboard.TargetProperty="Y" To="0" Duration="0:0:0.12"/>
        </Storyboard>
    </UserControl.Resources>
    <UserControl.Triggers>
        <EventTrigger RoutedEvent="MouseEnter"><BeginStoryboard Storyboard="{StaticResource HoverOn}"/></EventTrigger>
        <EventTrigger RoutedEvent="MouseLeave"><BeginStoryboard Storyboard="{StaticResource HoverOff}"/></EventTrigger>
    </UserControl.Triggers>
</UserControl>
